# 页面复制功能说明

## 功能概述

在页面管理界面，为每个页面卡片添加了复制按钮，可以快速复制现有页面创建副本。

## 使用方法

### 1. 找到要复制的页面
在"页面管理"页面中，浏览页面列表找到目标页面。

### 2. 点击复制按钮
每个页面卡片的底部有四个操作按钮：
- **编辑** (铅笔图标)
- **预览** (眼睛图标)
- **复制** (蓝色复制图标) ← 这是新增的
- **删除** (红色垃圾桶图标)

点击蓝色的复制按钮。

### 3. 等待复制完成
系统会：
1. 获取原页面的完整内容
2. 创建一个新页面
3. 新页面名称为：`原页面名称-copy`
4. 保留所有模块和内容
5. 关联到当前选中的店铺
6. 保持相同的设备类型（PC/移动端）

### 4. 确认成功
复制成功后会在右上角显示 Toast 提示：
- ✅ 标题：`复制成功`
- 📝 描述：`页面已成功复制为：xxx-copy`
- 自动在 3 秒后消失

页面列表会自动刷新，显示新复制的页面。

如果复制失败，会显示错误 Toast：
- ❌ 标题：`复制失败`
- 📝 描述：具体的错误信息
- 自动在 5 秒后消失

## 示例

假设有一个页面：
- 名称：`新品发布会2024`
- 设备类型：移动端
- 包含 10 个模块

点击复制后会创建：
- 名称：`新品发布会2024-copy`
- 设备类型：移动端
- 包含相同的 10 个模块（内容完全一致）

## 使用场景

### 场景1：快速创建相似页面
如果需要创建多个布局相似的页面，可以：
1. 创建一个模板页面
2. 复制该页面
3. 修改副本的内容

### 场景2：版本备份
在大幅修改页面之前：
1. 先复制一份作为备份
2. 修改原页面
3. 如果不满意可以删除，使用备份页面

### 场景3：跨设备适配
如果有一个 PC 端页面，想创建移动端版本：
1. 复制 PC 端页面
2. 在编辑器中修改设备类型
3. 调整移动端适配

## 注意事项

- ✅ 复制会保留所有模块内容
- ✅ 复制会保留图片链接
- ✅ 复制会保留自定义 HTML
- ⚠️ 新页面会关联到**当前选中的店铺**
- ⚠️ 复制的页面名称会自动添加 `-copy` 后缀
- ⚠️ 如果原页面已经是 `xxx-copy`，新页面会变成 `xxx-copy-copy`

## 后续操作

复制页面后，通常需要：
1. 点击"编辑"进入编辑器
2. 修改页面名称（去掉 -copy 后缀）
3. 修改页面内容
4. 保存页面

## 技术说明

### 实现细节
- 使用 `pageService.getPage()` 获取完整页面数据
- 使用 `pageService.createPage()` 创建新页面
- 自动刷新页面列表显示最新数据
- 使用 `toastManager` 显示成功/失败提示
- 支持多语言（通过 `tCommon` 和 `tError`）

### 复制的数据
- ✅ 页面名称（添加 -copy 后缀）
- ✅ 所有模块内容（content 数组）
- ✅ 设备类型（device_type）
- ✅ 店铺关联（shop_id）
- ❌ 不复制：创建时间、更新时间、页面 ID

## 多语言支持

Toast 提示支持以下翻译键（已添加到所有语言文件）：

### 中文 (zh-CN)
- `tCommon('复制成功')` → "复制成功"
- `tCommon('页面已成功复制为：{name}', { name })` → "页面已成功复制为：{name}"
- `tError('复制失败')` → "复制失败"
- `tError('复制页面失败，请重试')` → "复制页面失败，请重试"
- `tEditor('自定义HTML模块')` → "自定义HTML模块"
- `tEditor('原{type}', { type })` → "原{type}"
- `tEditor('双击进入编辑')` → "双击进入编辑"
- `tEditor('编辑模式')` → "编辑模式"

### 英文 (en-US)
- `tCommon('复制成功')` → "Copy Successful"
- `tCommon('页面已成功复制为：{name}', { name })` → "Page successfully copied as: {name}"
- `tError('复制失败')` → "Copy Failed"
- `tError('复制页面失败，请重试')` → "Failed to copy page. Please try again"
- `tEditor('自定义HTML模块')` → "Custom HTML Module"
- `tEditor('原{type}', { type })` → "Original {type}"
- `tEditor('双击进入编辑')` → "Double-click to edit"
- `tEditor('编辑模式')` → "Edit Mode"

### 日文 (ja-JP)
- `tCommon('复制成功')` → "コピー成功"
- `tCommon('页面已成功复制为：{name}', { name })` → "ページが正常にコピーされました：{name}"
- `tError('复制失败')` → "コピー失敗"
- `tError('复制页面失败，请重试')` → "ページのコピーに失敗しました。再試行してください"
- `tEditor('自定义HTML模块')` → "カスタムHTMLモジュール"
- `tEditor('原{type}', { type })` → "元{type}"
- `tEditor('双击进入编辑')` → "ダブルクリックして編集"
- `tEditor('编辑模式')` → "編集モード"

---

**功能版本**: v1.2
**添加日期**: 2025-10-07
**更新日期**: 2025-10-07 - 添加完整的多语言支持

