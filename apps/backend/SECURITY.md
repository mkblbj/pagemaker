# 安全配置说明

## 环境变量管理

本项目使用环境变量来管理敏感配置信息，确保不会将数据库密码、密钥等敏感信息硬编码到代码中。

### 文件说明

1. **`.env.example`** - 环境变量模板文件
   - 包含所有需要配置的环境变量名称
   - 使用占位符值，不包含真实的敏感信息
   - 可以安全地提交到版本控制系统

2. **`.env`** - 实际的环境变量文件
   - 包含真实的配置值和敏感信息
   - 已被添加到 `.gitignore`，不会被提交到版本控制
   - 每个开发者需要根据自己的环境配置此文件

### 配置步骤

```bash
# 1. 复制模板文件
cp .env.example .env

# 2. 编辑 .env 文件，填入真实的配置值
nano .env  # 或使用其他编辑器
```

### 环境变量说明

| 变量名 | 说明 | 示例值 |
|--------|------|--------|
| `SECRET_KEY` | Django密钥，用于加密和签名 | `your-secret-key-here` |
| `DEBUG` | 调试模式开关 | `True` (开发) / `False` (生产) |
| `ALLOWED_HOSTS` | 允许的主机名列表 | `localhost,127.0.0.1` |
| `DB_NAME` | 数据库名称 | `your-database-name` |
| `DB_USER` | 数据库用户名 | `your-database-user` |
| `DB_PASSWORD` | 数据库密码 | `your-database-password` |
| `DB_HOST` | 数据库主机地址 | `your-database-host` |
| `DB_PORT` | 数据库端口 | `3306` |

### 安全最佳实践

1. **永远不要将 `.env` 文件提交到版本控制**
2. **生产环境使用强密码和复杂的 SECRET_KEY**
3. **定期更换数据库密码和密钥**
4. **限制数据库访问权限**
5. **生产环境设置 `DEBUG=False`**

### 部署注意事项

在生产环境部署时：

1. 确保服务器上有正确的 `.env` 文件
2. 设置适当的文件权限（如 `chmod 600 .env`）
3. 考虑使用更安全的密钥管理服务
4. 启用HTTPS和其他安全设置

### 故障排除

如果遇到配置相关错误：

1. 检查 `.env` 文件是否存在
2. 确认所有必需的环境变量都已设置
3. 验证环境变量值的格式是否正确
4. 检查数据库连接信息是否准确 